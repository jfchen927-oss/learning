# å¤ªç©ºç”µæ¢¯æœˆçƒæ®–æ°‘ç‰©èµ„è¿è¾“ç³»ç»Ÿæµç¨‹å›¾
# Mathematical Model Flowchart: Space Elevator Moon Colony Logistics System
# 2026 MCM Problem B - Research-Level Diagram

flowchart TB
    subgraph INPUT["ğŸ“Š è¾“å…¥å‚æ•° / Input Parameters"]
        P1["æ®–æ°‘åœ°è§„æ¨¡: 100,000äºº<br/>Colony Capacity"]
        P2["ç‰©èµ„æ€»é‡: 100ç™¾ä¸‡å¨<br/>Total Materials: 100M MT"]
        P3["èµ·å§‹å¹´ä»½: 2050<br/>Start Year: 2050"]
        P4["æ°´èµ„æºå¹´éœ€æ±‚<br/>Annual Water Requirement"]
    end

    subgraph SCENARIO["ğŸ¯ åœºæ™¯å®šä¹‰ / Scenario Definition"]
        S1["åœºæ™¯A: çº¯å¤ªç©ºç”µæ¢¯<br/>Space Elevator Only"]
        S2["åœºæ™¯B: çº¯ç«ç®­è¿è¾“<br/>Traditional Rockets Only"]
        S3["åœºæ™¯C: æ··åˆæ¨¡å¼<br/>Hybrid Approach"]
    end

    subgraph ELEVATOR["ğŸš€ å¤ªç©ºç”µæ¢¯ç³»ç»Ÿæ¨¡å‹<br/>Space Elevator System Model"]
        E1["3ä¸ªGalactic Harbours<br/>@ èµ¤é“120Â°é—´éš”"]
        E2["æ¯ä¸ªæ¸¯å£è¿åŠ›<br/>179,000 MT/å¹´"]
        E3["åŒé˜¶æ®µè¿è¾“<br/>Earth Port â†’ Apex â†’ Moon"]
        E4[" tetheræ‘‡æ‘†æ¨¡å‹<br/>Swaying Tolerance"]
        E5["ç”µæ¢¯æ•…éšœç‡<br/>Elevator Failure Rate"]
    end

    subgraph ROCKET["ğŸ”¥ ä¼ ç»Ÿç«ç®­ç³»ç»Ÿæ¨¡å‹<br/>Traditional Rocket Model"]
        R1["10ä¸ªå‘å°„åŸºåœ°<br/>Global Launch Sites"]
        R2["å•æ¬¡è¿åŠ›: 100-150 MT<br/>Payload Capacity"]
        R3["å•æ¬¡æˆæœ¬æ¨¡å‹<br/>Cost per Launch"]
        R4["å‘å°„å¤±è´¥ç‡<br/>Launch Failure Rate"]
        R5["ç¯å¢ƒå½±å“å› å­<br/>Environmental Impact"]
    end

    subgraph CALC["âš™ï¸ æ ¸å¿ƒè®¡ç®—æ¨¡å—<br/>Core Calculation Module"]
        C1["è¿è¾“æ—¶é—´è®¡ç®—<br/>Transport Timeline<br/>T_total = Î£(T_elevator + T_rocket)"]
        C2["æˆæœ¬æ¨¡å‹<br/>Cost Model<br/>C_total = C_fixed + C_variable Ã— MT"]
        C3["å¯é æ€§åˆ†æ<br/>Reliability Analysis<br/>R_system = Î  R_i"]
        C4["æ°´èµ„æºè¡¥ç»™<br/>Water Logistics<br/>V_water = P Ã— 365 Ã— r_consumption"]
    end

    subgraph OUTPUT["ğŸ“ˆ è¾“å‡ºæŒ‡æ ‡ / Output Metrics"]
        O1["æ€»æˆæœ¬å¯¹æ¯”<br/>Total Cost Comparison"]
        O2["å»ºè®¾å‘¨æœŸ<br/>Construction Timeline"]
        O3["ç¯å¢ƒå½±å“è¯„ä¼°<br/>Environmental Impact Score"]
        O4["ç³»ç»Ÿå¯é æ€§<br/>System Reliability"]
        O5["æ°´èµ„æºä¿éšœ<br/>Water Supply Security"]
    end

    subgraph OPTIMIZE["ğŸ”§ ä¼˜åŒ–æ¨¡å— / Optimization"]
        OPT1["å¤šç›®æ ‡ä¼˜åŒ–<br/>Multi-Objective Optimization<br/>min(Cost, Time, Impact)"]
        OPT2["æ•æ„Ÿæ€§åˆ†æ<br/>Sensitivity Analysis"]
        OPT3["é£é™©ç¼“è§£ç­–ç•¥<br/>Risk Mitigation"]
    end

    subgraph DECISION["âœ… å†³ç­–è¾“å‡º / Decision Output"]
        D1["æ¨èæ–¹æ¡ˆ<br/>Recommended Strategy"]
        D2["å®æ–½è·¯çº¿å›¾<br/>Implementation Roadmap"]
        D3["è‡´MCMæœºæ„å»ºè®®ä¿¡<br/>Letter to MCM Agency"]
    end

    %% æµç¨‹è¿æ¥
    INPUT --> SCENARIO
    
    S1 --> ELEVATOR
    S2 --> ROCKET
    S3 --> ELEVATOR & ROCKET
    
    ELEVATOR --> CALC
    ROCKET --> CALC
    
    CALC --> OUTPUT
    OUTPUT --> OPTIMIZE
    OPTIMIZE --> DECISION

    %% å†…éƒ¨è¿æ¥
    E1 --> E2
    E2 --> E3
    E3 --> E4
    E4 --> E5
    
    R1 --> R2
    R2 --> R3
    R3 --> R4
    R4 --> R5
    
    C1 --> C2
    C2 --> C3
    C3 --> C4

    %% åé¦ˆå¾ªç¯
    OPT2 -.->|å‚æ•°è°ƒæ•´| INPUT
    E5 -.->|æ•…éšœç‡åé¦ˆ| C3
    R4 -.->|å¤±è´¥ç‡åé¦ˆ| C3

    %% æ ·å¼å®šä¹‰
    classDef inputClass fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef scenarioClass fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    classDef elevatorClass fill:#e8f5e9,stroke:#388e3c,stroke-width:2px,color:#000
    classDef rocketClass fill:#ffebee,stroke:#d32f2f,stroke-width:2px,color:#000
    classDef calcClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef outputClass fill:#fff8e1,stroke:#fbc02d,stroke-width:2px,color:#000
    classDef optimizeClass fill:#e0f2f1,stroke:#00796b,stroke-width:2px,color:#000
    classDef decisionClass fill:#fce4ec,stroke:#c2185b,stroke-width:3px,color:#000

    class INPUT,P1,P2,P3,P4 inputClass
    class SCENARIO,S1,S2,S3 scenarioClass
    class ELEVATOR,E1,E2,E3,E4,E5 elevatorClass
    class ROCKET,R1,R2,R3,R4,R5 rocketClass
    class CALC,C1,C2,C3,C4 calcClass
    class OUTPUT,O1,O2,O3,O4,O5 outputClass
    class OPTIMIZE,OPT1,OPT2,OPT3 optimizeClass
    class DECISION,D1,D2,D3 decisionClass
